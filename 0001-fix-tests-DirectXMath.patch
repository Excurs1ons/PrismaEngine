From 411fce7f9b9a7bf455d0c59c0c5ab221b9643682 Mon Sep 17 00:00:00 2001
From: JasonGu <1456970218@qq.com>
Date: Sat, 13 Dec 2025 01:45:13 +0800
Subject: [PATCH] =?UTF-8?q?fix(tests):=20=E7=A7=BB=E9=99=A4DirectXMath?=
 =?UTF-8?q?=E4=BE=9D=E8=B5=96=E6=9F=A5=E6=89=BE=E9=94=99=E8=AF=AF?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

DirectXMathæ˜¯Windows SDKçš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦é€šè¿‡find_packageæŸ¥æ‰¾ã€‚
ç§»é™¤äº†å¯¹DirectXMathçš„find_packageè°ƒç”¨å’Œé“¾æ¥åº“å¼•ç”¨ã€‚

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
---
 tests/CMakeLists.txt | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

diff --git a/tests/CMakeLists.txt b/tests/CMakeLists.txt
index 9ee19b4..e094556 100644
--- a/tests/CMakeLists.txt
+++ b/tests/CMakeLists.txt
@@ -6,8 +6,13 @@ project(PrismaEngineTests)
 set(CMAKE_CXX_STANDARD 20)
 set(CMAKE_CXX_STANDARD_REQUIRED ON)
 
-# æŸ¥æ‰¾ä¾èµ–åŒ…
-find_package(DirectXMath REQUIRED)
+# åœ¨Windowsä¸ŠæŸ¥æ‰¾DirectXMathï¼ˆåŒ…å«åœ¨Windows SDKä¸­ï¼‰
+if(WIN32)
+    # DirectXMathæ˜¯Windows SDKçš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦å•ç‹¬å®‰è£…
+elseif(NOT WIN32)
+    # åœ¨å…¶ä»–å¹³å°ä¸Šå¯èƒ½éœ€è¦ä¸åŒçš„æ•°å­¦åº“
+    message(FATAL_ERROR "DirectXMath is only available on Windows platform")
+endif()
 
 # åŒ…å«ç›®å½•
 include_directories(
@@ -30,7 +35,6 @@ add_executable(PrismaEngineTests
 # é“¾æ¥åº“
 target_link_libraries(PrismaEngineTests
     PRIVATE
-    ${DirectXMath_LIBRARIES}
 )
 
 # åœ¨Windowsä¸Šè®¾ç½®å­ç³»ç»Ÿå’Œå…¥å£ç‚¹
-- 
2.52.0

