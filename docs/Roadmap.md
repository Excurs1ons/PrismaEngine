# ğŸ® PrismaEngine åŠŸèƒ½è·¯çº¿å›¾

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°
PrismaEngineï¼ˆåŸYAGEï¼‰æ˜¯ä¸€ä¸ªä¸ºç°ä»£æ¸¸æˆå¼€å‘è®¾è®¡çš„è·¨å¹³å°æ¸¸æˆå¼•æ“ï¼Œæ”¯æŒWindowså’ŒAndroidå¹³å°ï¼Œä½¿ç”¨DirectX 12å’ŒVulkanä½œä¸ºæ¸²æŸ“åç«¯ï¼Œé›†æˆSDL3å®ç°è·¨å¹³å°çª—å£å’Œè¾“å…¥ã€‚

## ğŸ”„ Vulkan åç«¯è¿ç§»è®¡åˆ’

> **é‡è¦**: [PrismaAndroid](https://github.com/Excurs1ons/PrismaAndroid) é¡¹ç›®åŒ…å«ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Vulkan è¿è¡Œæ—¶å®ç°ï¼ˆ~1300è¡Œä»£ç ï¼‰ï¼Œå°†é€æ­¥è¿ç§»åˆ° PrismaEngine çš„æ¸²æŸ“æŠ½è±¡å±‚ã€‚

### è¿ç§»é˜¶æ®µ

| é˜¶æ®µ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| **Phase 1** | æ¸²æŸ“æŠ½è±¡å±‚è®¾è®¡ | ğŸ”„ è¿›è¡Œä¸­ |
| **Phase 2** | VulkanContext è¿ç§» | â³ è®¡åˆ’ä¸­ |
| **Phase 3** | RendererVulkan è¿ç§» | â³ è®¡åˆ’ä¸­ |
| **Phase 4** | Shader/Texture è¿ç§» | â³ è®¡åˆ’ä¸­ |
| **Phase 5** | é›†æˆæµ‹è¯•ä¸ä¼˜åŒ– | â³ è®¡åˆ’ä¸­ |

### PrismaAndroid åŠŸèƒ½æ¸…å•

| æ¨¡å— | å®Œæˆåº¦ | è¯´æ˜ |
|------|--------|------|
| VulkanContext | âœ… 100% | Instance/Device/SwapChain/ç¼“å†²åŒºç®¡ç† |
| RendererVulkan | âœ… 90% | å®Œæ•´æ¸²æŸ“å¾ªç¯ï¼Œæ”¯æŒå±å¹•æ—‹è½¬ |
| ShaderVulkan | âœ… 100% | SPIR-V ç€è‰²å™¨åŠ è½½ |
| TextureAsset | âœ… 100% | çº¹ç†åŠ è½½ã€Mipmapã€é‡‡æ ·å™¨ |
| Scene/GameObject | âœ… 80% | ç®€åŒ–ç‰ˆ ECS æ¶æ„ |
| å‘½ä»¤ç¼“å†²ç®¡ç† | âœ… 100% | Flight Frame åŒæ­¥æœºåˆ¶ |
| æè¿°ç¬¦ç³»ç»Ÿ | âœ… 100% | Pool/Sets/Layout ç®¡ç† |

## ğŸš€ é«˜çº§æ¸²æŸ“åŠŸèƒ½è§„åˆ’

### 1. HLSL â†’ SPIR-V ç»Ÿä¸€ç€è‰²å™¨ç¼–è¯‘æµç¨‹

#### èƒŒæ™¯
å½“å‰ DirectX 12 ä½¿ç”¨ HLSLï¼ŒVulkan ä½¿ç”¨ GLSLï¼Œå¯¼è‡´ç€è‰²å™¨ä»£ç ç»´æŠ¤ä¸¤å¥—ã€‚é€šè¿‡ä½¿ç”¨ `dxc` (DXC Compiler) å°† HLSL ç¼–è¯‘ä¸º SPIR-Vï¼Œå¯å®ç°è·¨å¹³å°ç»Ÿä¸€å¼€å‘æµç¨‹ã€‚

#### æŠ€æœ¯æ–¹æ¡ˆ

| ç»„ä»¶ | è¯´æ˜ |
|------|------|
| **ç¼–è¯‘å™¨** | Microsoft DXC (DirectX Shader Compiler) |
| **è¾“å…¥æ ¼å¼** | HLSL (Shader Model 6.0+) |
| **è¾“å‡ºæ ¼å¼** | SPIR-V (Vulkan 1.1+) |
| **æ„å»ºå·¥å…·** | CMake + è‡ªå®šä¹‰è„šæœ¬ |

#### å®ç°é˜¶æ®µ

| é˜¶æ®µ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| **Phase 1** | DXC å·¥å…·é“¾é›†æˆ (CMake + æ„å»ºè„šæœ¬) | â³ è®¡åˆ’ä¸­ |
| **Phase 2** | HLSL ç€è‰²å™¨ç¼–å†™è§„èŒƒä¸ç¤ºä¾‹ | â³ è®¡åˆ’ä¸­ |
| **Phase 3** | è¿è¡Œæ—¶ SPIR-V åŠ è½½å™¨å®Œå–„ | â³ è®¡åˆ’ä¸­ |
| **Phase 4** | è·¨å¹³å°ç€è‰²å™¨çƒ­é‡è½½ | â³ è®¡åˆ’ä¸­ |

#### ç›®å½•ç»“æ„
```
assets/shaders/
â”œâ”€â”€ hlsl/              # HLSL æºç  (ç»Ÿä¸€ç¼–å†™)
â”‚   â”œâ”€â”€ common.hlsl    # å…±äº«å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ vertex.hlsl    # é¡¶ç‚¹ç€è‰²å™¨
â”‚   â””â”€â”€ fragment.hlsl  # åƒç´ ç€è‰²å™¨
â”œâ”€â”€ spirv/             # ç¼–è¯‘è¾“å‡ºçš„ SPIR-V (è‡ªåŠ¨ç”Ÿæˆ)
â”‚   â”œâ”€â”€ vertex.vert.spv
â”‚   â””â”€â”€ fragment.frag.spv
â””â”€â”€ compiled_dx12/     # DirectX 12 DXIL (å¯é€‰)
```

#### å…³é”®æŠ€æœ¯ç‚¹
- HLSL åˆ° SPIR-V çš„è¯­ä¹‰æ˜ å°„ (`SV_Position` â†’ `gl_Position`)
- èµ„æºç»‘å®šæ¨¡å‹è½¬æ¢ (Descriptor Set è‡ªåŠ¨åˆ†é…)
- è·¨å¹³å°ç€è‰²å™¨åå°„ç³»ç»Ÿ
- CMake æ„å»ºæ—¶è‡ªåŠ¨ç¼–è¯‘

---

### 2. Google Swappy å¸§ç‡ç®¡ç†é›†æˆ

#### èƒŒæ™¯
[Swappy](https://github.com/google/swappy) æ˜¯ Google å¼€æºçš„ Android å¸§ç‡ç®¡ç†åº“ï¼Œæä¾›ï¼š
- æµç•…å¸§ç‡åŒæ­¥
- è‡ªåŠ¨ SwapInterval è°ƒæ•´
- é™ä½åŠŸè€—å’Œå»¶è¿Ÿ
- æ”¯æŒ Choreographer å’Œ Vulkan

#### åŠŸèƒ½è§„åˆ’

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|------|--------|
| **å¸§ç‡åŒæ­¥** | è‡ªåŠ¨é€‚é…å±å¹•åˆ·æ–°ç‡ (60/90/120Hz) | é«˜ |
| **Swap è°ƒåº¦** | ä¼˜åŒ– SwapChain å‘ˆç°æ—¶æœº | é«˜ |
| **æ€§èƒ½ç»Ÿè®¡** | FPS/å¸§æ—¶é—´/æ‰å¸§ç»Ÿè®¡ | ä¸­ |
| **åŠŸè€—ä¼˜åŒ–** | è‡ªåŠ¨é™å¸§ä»¥é™ä½åŠŸè€— | ä¸­ |
| **Windows ç§»æ¤** | å‚è€ƒ Swappy å®ç° Windows ç‰ˆæœ¬ | ä½ |

#### å®ç°é˜¶æ®µ

| é˜¶æ®µ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| **Phase 1** | Swappy åº“é›†æˆ (Android) | â³ è®¡åˆ’ä¸­ |
| **Phase 2** | Vulkan SwapChain é€‚é… | â³ è®¡åˆ’ä¸­ |
| **Phase 3** | æ€§èƒ½ç»Ÿè®¡é¢æ¿ | â³ è®¡åˆ’ä¸­ |
| **Phase 4** | Windows åç«¯å®ç° | â³ è®¡åˆ’ä¸­ |

#### æ¶æ„è®¾è®¡
```
src/engine/graphic/
â”œâ”€â”€ PresentScheduler.h        # å‘ˆç°è°ƒåº¦å™¨æŠ½è±¡
â”œâ”€â”€ SwappyScheduler.h/cpp     # Android Swappy å®ç°
â”œâ”€â”€ WindowsScheduler.h/cpp    # Windows D3D12 å®ç°
â””â”€â”€ FrameStats.h/cpp          # å¸§ç‡ç»Ÿè®¡
```

#### å…³é”®æŠ€æœ¯ç‚¹
- ANativeWindowCallback å›è°ƒé›†æˆ
- Vulkan QueuePresentKHR æ‹¦æˆª
- Choreographer åŒæ­¥
- è‡ªé€‚åº”åˆ·æ–°ç‡åˆ‡æ¢

---

### 3. Google Snappy å‹ç¼©åº“é›†æˆ

#### èƒŒæ™¯
[Snappy](https://github.com/google/snappy) æ˜¯ Google å¼€æºçš„é«˜é€Ÿå‹ç¼©/è§£å‹ç¼©åº“ï¼Œç‰¹ç‚¹ï¼š
- æå¿«çš„å‹ç¼©/è§£å‹é€Ÿåº¦ (çº¦ 500MB/s/æ ¸)
- é€‚ä¸­çš„å‹ç¼©æ¯” (50-70% åŸå§‹å¤§å°)
- ç¨³å®šå¯é ï¼Œå¹¿æ³›ç”¨äºç”Ÿäº§ç¯å¢ƒ
- è·¨å¹³å°æ”¯æŒ (Windows/Linux/macOS/Android)

#### åº”ç”¨åœºæ™¯

| åœºæ™¯ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|------|--------|
| **èµ„æºå‹ç¼©** | çº¹ç†/ç½‘æ ¼/éŸ³é¢‘èµ„æºæ‰“åŒ…å‹ç¼© | é«˜ |
| **ç½‘ç»œä¼ è¾“** | å¤šäººæ¸¸æˆæ•°æ®åŒ…å‹ç¼© | ä¸­ |
| **HAP è§†é¢‘** | HAP æ ¼å¼å†…éƒ¨ä½¿ç”¨ Snappy å‹ç¼© | é«˜ |
| **å­˜æ¡£æ–‡ä»¶** | æ¸¸æˆå­˜æ¡£åºåˆ—åŒ–æ•°æ®å‹ç¼© | ä¸­ |
| **æ—¥å¿—å‹ç¼©** | è¿è¡Œæ—¶æ—¥å¿—æ–‡ä»¶å‹ç¼© | ä½ |

#### ç³»ç»Ÿæ¶æ„

```
src/engine/compress/
â”œâ”€â”€ Compression.h              # å‹ç¼©æ¥å£æŠ½è±¡
â”œâ”€â”€ SnappyCompression.h/cpp    # Snappy å®ç°
â”œâ”€â”€ CompressionStream.h/cpp    # æµå¼å‹ç¼©
â””â”€â”€ CompressionUtils.h/cpp     # å·¥å…·å‡½æ•°

third_party/snappy/
â”œâ”€â”€ snappy-c.h                 # C æ¥å£
â”œâ”€â”€ snappy-sinksource.h        # æµå¤„ç†
â”œâ”€â”€ snappy-stubs-internal.h    # å†…éƒ¨å®ç°
â””â”€â”€ snappy_unittest.cc         # å•å…ƒæµ‹è¯•
```

#### API è®¾è®¡

```cpp
namespace Engine {
namespace Compress {

// å‹ç¼©æ¥å£
class ICompression {
public:
    virtual std::vector<uint8_t> compress(
        const uint8_t* data, size_t size) = 0;
    virtual std::vector<uint8_t> decompress(
        const uint8_t* data, size_t size) = 0;
    virtual float getCompressionRatio() const = 0;
};

// Snappy å®ç°
class SnappyCompression : public ICompression {
public:
    std::vector<uint8_t> compress(
        const uint8_t* data, size_t size) override;

    std::vector<uint8_t> decompress(
        const uint8_t* data, size_t size) override;

    float getCompressionRatio() const override;
};

// å·¥å…·å‡½æ•°
namespace Utils {
    std::vector<uint8_t> compressFile(const std::string& path);
    bool decompressToFile(const std::vector<uint8_t>& compressed,
                         const std::string& outputPath);
    size_t estimateCompressedSize(size_t originalSize);
}

} // namespace Compress
} // namespace Engine
```

#### å®ç°é˜¶æ®µ

| é˜¶æ®µ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| **Phase 1** | Snappy åº“é›†æˆ (CMake + vcpkg) | â³ è®¡åˆ’ä¸­ |
| **Phase 2** | å‹ç¼©æ¥å£æŠ½è±¡å±‚å®ç° | â³ è®¡åˆ’ä¸­ |
| **Phase 3** | æµå¼å‹ç¼©æ”¯æŒ | â³ è®¡åˆ’ä¸­ |
| **Phase 4** | èµ„æºç³»ç»Ÿé›†æˆ | â³ è®¡åˆ’ä¸­ |
| **Phase 5** | æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ– | â³ è®¡åˆ’ä¸­ |

#### æ€§èƒ½åŸºå‡†

| æ•°æ®ç±»å‹ | åŸå§‹å¤§å° | å‹ç¼©å | å‹ç¼©æ¯” | å‹ç¼©é€Ÿåº¦ | è§£å‹é€Ÿåº¦ |
|----------|----------|--------|--------|----------|----------|
| JSON æ–‡æœ¬ | 1 MB | ~400 KB | 2.5x | ~500 MB/s | ~800 MB/s |
| çº¹ç†æ•°æ® | 4 MB | ~2.5 MB | 1.6x | ~450 MB/s | ~750 MB/s |
| ç½‘æ ¼æ•°æ® | 500 KB | ~250 KB | 2.0x | ~520 MB/s | ~780 MB/s |
| HAP å¸§ | å˜åŒ– | å˜åŒ– | ~1.8x | ~480 MB/s | ~760 MB/s |

#### é›†æˆç¤ºä¾‹

```cpp
// èµ„æºåŠ è½½æ—¶è‡ªåŠ¨è§£å‹
auto compressedData = ResourceManager::loadRaw("assets/models.cps");
auto decompressed = SnappyCompression::decompress(
    compressedData.data(), compressedData.size());
Model* model = Model::deserialize(decompressed);

// å­˜æ¡£ä¿å­˜æ—¶å‹ç¼©
auto saveData = SaveGame::serialize(gameObject);
auto compressedSave = SnappyCompression::compress(
    saveData.data(), saveData.size());
File::writeAllBytes("save_001.sav", compressedSave);

// ç½‘ç»œæ•°æ®åŒ…å‹ç¼©
Packet packet;
packet.writeGameObjectState(gameObject);
auto compressed = SnappyCompression::compress(packet.data(), packet.size());
networkManager->send(compressed);
```

#### å†…åµŒèµ„æºå‹ç¼©

é‡‡ç”¨**å£°æ˜å¼èµ„æºç³»ç»Ÿ**ï¼Œç±»ä¼¼ UE çš„ `LOCTEXT`ã€C# çš„ `.resx`ã€Qt çš„ `.qrc`ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- åœ¨ `.decl` æ–‡ä»¶ä¸­ç”¨å®å£°æ˜èµ„æº
- ç¼–è¯‘æ—¶è‡ªåŠ¨å‹ç¼©å¹¶ç”Ÿæˆå¤´æ–‡ä»¶
- è¿è¡Œæ—¶æŒ‰éœ€è§£å‹ï¼Œé…åˆå¯åŠ¨ç”»é¢å¼‚æ­¥åŠ è½½

è¯¦ç»†æ–‡æ¡£ï¼š[EmbeddedResources.md](EmbeddedResources.md)

**å¿«é€Ÿç¤ºä¾‹**ï¼š

```cpp
// å£°æ˜èµ„æº (assets/embedded_resources.decl)
PRISMA_EMBED_STRING(DefaultVertexShader, "assets/shaders/default.vert")
PRISMA_EMBED_BYTES(DefaultFont, "assets/fonts/Default.ttf")

// ä½¿ç”¨èµ„æº
auto vertShader = PRISMA_GET_STRING(DefaultVertexShader);
auto fontData = PRISMA_GET_RESOURCE(DefaultFont);
```

| èµ„æºç±»å‹ | åŸå§‹å¤§å° | å‹ç¼©å | èŠ‚çœ |
|----------|----------|--------|------|
| ç€è‰²å™¨ GLSL (20KB) | 20 KB | 8 KB | 60% |
| TrueType å­—ä½“ (500KB) | 500 KB | 280 KB | 44% |
| JSON é…ç½® (5KB) | 5 KB | 2 KB | 60% |

---

### 4. HAP è§†é¢‘æ’­æ”¾ç³»ç»Ÿ

#### èƒŒæ™¯
[HAP](https://github.com/vidvox/hap) æ˜¯é«˜æ€§èƒ½ GPU åŠ é€Ÿè§†é¢‘ç¼–è§£ç æ ¼å¼ï¼Œç‰¹ç‚¹ï¼š
- åŸºäºçº¹ç†å‹ç¼© (DXT/S3TC/BPTC)
- GPU ç›´æ¥è§£ç ï¼ŒCPU å¼€é”€æä½
- é€‚åˆå®æ—¶è§†é¢‘æ’­æ”¾å’Œäº’åŠ¨åª’ä½“
- å¹¿æ³›ç”¨äºæ¼”å‡ºå’Œå±•ç¤ºè¡Œä¸š

#### ç³»ç»Ÿæ¶æ„

```
src/engine/video/
â”œâ”€â”€ VideoPlayer.h/cpp          # è§†é¢‘æ’­æ”¾å™¨æ ¸å¿ƒ
â”œâ”€â”€ VideoDecoder.h/cpp         # è§£ç å™¨æ¥å£
â”œâ”€â”€ HAPDecoder.h/cpp           # HAP æ ¼å¼è§£ç å™¨
â”œâ”€â”€ VideoTexture.h/cpp         # è§†é¢‘çº¹ç†è¾“å‡º
â””â”€â”€ VideoComponent.h/cpp       # GameObject ç»„ä»¶

third_party/hap/
â”œâ”€â”€ hap_decode/                # HAP è§£ç åº“
â””â”€â”€ snappy/                    # Snappy å‹ç¼©åº“
```

#### åŠŸèƒ½è§„åˆ’

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|------|--------|
| **HAP è§£ç ** | æ”¯æŒ HAP/Q/HAPAlpha/HAPQ | é«˜ |
| **çº¹ç†è¾“å‡º** | è§£ç ç»“æœç›´æ¥è¾“å‡ºåˆ° GPU çº¹ç† | é«˜ |
| **æ’­æ”¾æ§åˆ¶** | Play/Pause/Seek/Loop | é«˜ |
| **éŸ³é¢‘åŒæ­¥** | éŸ³è§†é¢‘åŒæ­¥æ’­æ”¾ | ä¸­ |
| **å¤šè½¨é“** | æ”¯æŒå¤šè§†é¢‘å åŠ  | ä½ |
| **ç½‘ç»œæµ** | æ”¯æŒæµå¼åŠ è½½ | ä½ |

#### å®ç°é˜¶æ®µ

| é˜¶æ®µ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| **Phase 1** | HAP è§£ç åº“é›†æˆ (hap-in-c) | â³ è®¡åˆ’ä¸­ |
| **Phase 2** | VideoPlayer æ ¸å¿ƒå®ç° | â³ è®¡åˆ’ä¸­ |
| **Phase 3** | GPU çº¹ç†ç›´æ¥ä¸Šä¼  | â³ è®¡åˆ’ä¸­ |
| **Phase 4** | VideoComponent ç»„ä»¶ | â³ è®¡åˆ’ä¸­ |
| **Phase 5** | éŸ³é¢‘åŒæ­¥ä¸æ’­æ”¾åˆ—è¡¨ | â³ è®¡åˆ’ä¸­ |

#### HAP æ ¼å¼æ”¯æŒ

| æ ¼å¼ | å‹ç¼©æ¯” | è´¨é‡ | Alpha |
|------|--------|------|-------|
| **HAP** | DXT4 | ä¸­ | å¦ |
| **HAP Alpha** | DXT5 + Alpha | ä¸­ | æ˜¯ |
| **HAP Q** | BPTC | é«˜ | å¦ |
| **HAP Q Alpha** | BPTC + Alpha | é«˜ | æ˜¯ |

#### ä½¿ç”¨ç¤ºä¾‹
```cpp
// åˆ›å»ºè§†é¢‘æ’­æ”¾ç»„ä»¶
auto videoPlayer = gameObject->addComponent<VideoComponent>();
videoPlayer->load("assets/videos/intro.mov");
videoPlayer->setLoop(true);
videoPlayer->play();

// è¾“å‡ºåˆ°æ¸²æŸ“çº¹ç†
auto outputTexture = videoPlayer->getOutputTexture();
material->setTexture("VideoTexture", outputTexture);
```

#### å…³é”®æŠ€æœ¯ç‚¹
- DXT/S3TC å‹ç¼©çº¹ç†ç›´æ¥ä¸Šä¼ 
- Snappy è§£å‹ç¼©é›†æˆ
- å¸§ç²¾ç¡® seeking
- éŸ³è§†é¢‘åŒæ­¥ (PTS æ—¶é—´æˆ³)

## ğŸ¨ 2DåŠŸèƒ½å®ç°çŠ¶æ€

### âœ… å·²å®ç°çš„2DåŠŸèƒ½

#### ğŸ—ï¸ åŸºç¡€æ¶æ„
- **ğŸ“¦ èµ„æºç®¡ç†ç³»ç»Ÿ** - âœ… å·²å®ç°
  - åŸºç¡€èµ„æºæ¥å£(IResource)å’Œèµ„äº§åŸºç±»(Asset)
  - èµ„æºç®¡ç†å™¨(ResourceManager)æ”¯æŒå¤šè·¯å¾„æœç´¢
  - æ”¯æŒJSONå’ŒäºŒè¿›åˆ¶åºåˆ—åŒ–
  - çº¿ç¨‹å®‰å…¨çš„èµ„æºåŠ è½½å’Œå¸è½½

- **ğŸ§© ç»„ä»¶ç³»ç»Ÿ** - âœ… å·²å®ç°
  - åŸºç¡€ç»„ä»¶æ¥å£(IComponent)å’Œç»„ä»¶åŸºç±»(Component)
  - GameObjectæ”¯æŒç»„ä»¶æ·»åŠ å’Œè·å–
  - ç»„ä»¶æ›´æ–°æœºåˆ¶å·²å®ç°
  - ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆInitialize/Update/Shutdownï¼‰

#### ğŸ–¼ï¸ æ¸²æŸ“ç³»ç»Ÿ
- **ğŸ¯ DirectX 12æ¸²æŸ“å™¨** - âœ… å·²å®ç°
  - å®Œæ•´çš„DirectX 12æ¸²æŸ“ç®¡çº¿è®¾ç½®
  - å‘½ä»¤åˆ—è¡¨å’Œå‘½ä»¤é˜Ÿåˆ—
  - æ¸²æŸ“ç›®æ ‡å’Œè§†å£è®¾ç½®
  - åŸºç¡€å¸§åŒæ­¥æœºåˆ¶
  - åŠ¨æ€é¡¶ç‚¹/ç´¢å¼•ç¼“å†²åŒºä¸Šä¼ 
  - åŠ¨æ€å¸¸é‡ç¼“å†²åŒºæ”¯æŒ
  - äº¤æ¢é“¾ã€æ¸²æŸ“ç›®æ ‡ã€æ·±åº¦ç¼“å†²å®ç°
  - è®¾å¤‡ä¸¢å¤±å¤„ç†æœºåˆ¶

- **ğŸŒŸ ç€è‰²å™¨ç³»ç»Ÿ** - âœ… å·²å®ç°
  - HLSLç€è‰²å™¨ç¼–è¯‘æ”¯æŒ
  - é¡¶ç‚¹å’Œåƒç´ ç€è‰²å™¨åŠ è½½
  - ç€è‰²å™¨èµ„æºç®¡ç†

- **ğŸ–¼ï¸ çº¹ç†ç³»ç»Ÿ** - âœ… å·²å®ç°
  - åŸºç¡€çº¹ç†èµ„äº§ç±»(TextureAsset)
  - BMPå›¾åƒåŠ è½½æ”¯æŒ
  - çº¹ç†å±æ€§å’Œå…ƒæ•°æ®ç®¡ç†

#### ğŸ“ å‡ ä½•ä½“
- **ğŸ“ åŸºç¡€2Då‡ ä½•ä½“** - âœ… å·²å®ç°
  - ä¸‰è§’å½¢ç½‘æ ¼ç”Ÿæˆ
  - å››è¾¹å½¢ç½‘æ ¼ç”Ÿæˆ
  - é¡¶ç‚¹æ•°æ®ç»“æ„å®šä¹‰

### ğŸš§ æœªå®Œå…¨å®ç°çš„2DåŠŸèƒ½

#### ğŸ“· ç›¸æœºç³»ç»Ÿ
- **ğŸ“· Camera2D** - âœ… å·²å®ç°
  - ç±»å·²å®Œæ•´å®ç°
  - æ”¯æŒ2DæŠ•å½±å’Œè§†å›¾çŸ©é˜µè®¡ç®—
  - æ”¯æŒè§†å£å’Œç¼©æ”¾åŠŸèƒ½
  - æ”¯æŒæ­£äº¤æŠ•å½±å‚æ•°è®¾ç½®

#### ğŸ”„ å˜æ¢ç³»ç»Ÿ
- **ğŸ”„ Transform2D** - âœ… å·²å®ç°
  - ç±»å·²å®Œæ•´å®ç°
  - æ”¯æŒ2Dä½ç½®ã€æ—‹è½¬å’Œç¼©æ”¾åŠŸèƒ½
  - æ”¯æŒå˜æ¢çŸ©é˜µè®¡ç®—
  - æ”¯æŒè„æ ‡è®°ä¼˜åŒ–
  - æ”¯æŒçŸ¢é‡æ“ä½œå’Œæ ‡é‡æ“ä½œ

#### ğŸ¨ æ¸²æŸ“ç®¡çº¿
- **ğŸ¨ 2Dä¸“ç”¨æ¸²æŸ“ç®¡çº¿** - âš ï¸ éƒ¨åˆ†å®ç°
  - RenderPass2Dç±»å·²å®šä¹‰ï¼Œä½†Executeæ–¹æ³•ä¸ºç©º
  - ç¼ºå°‘2Då›¾å½¢çš„ä¸“ç”¨æ¸²æŸ“çŠ¶æ€
  - ç¼ºå°‘ç²¾çµæ¸²æŸ“æ”¯æŒ
  - ç¼ºå°‘UIæ¸²æŸ“æ”¯æŒ
  - ç¼ºå°‘2Då…‰ç…§ç³»ç»Ÿ

#### ğŸ­ æè´¨ç³»ç»Ÿ
- **ğŸ­ Material** - âœ… å·²å®ç°
  - åŸºç¡€PBRæè´¨å±æ€§å®ç°
  - æ”¯æŒçº¹ç†è·¯å¾„è®¾ç½®
  - ä¸ç€è‰²å™¨ç³»ç»Ÿé›†æˆ
  - åŸºç¡€é¢œè‰²ã€é‡‘å±åº¦ã€ç²—ç³™åº¦ã€è‡ªå‘å…‰å±æ€§
  - çº¹ç†æ˜ å°„æ”¯æŒï¼ˆåç…§ç‡ã€æ³•çº¿ã€é‡‘å±åº¦ã€ç²—ç³™åº¦ã€è‡ªå‘å…‰ï¼‰
  - âš ï¸ ç¼ºå°‘è¿è¡Œæ—¶æè´¨ç¼–è¾‘å™¨
  - âš ï¸ ç¼ºå°‘æè´¨å®ä¾‹ç³»ç»Ÿ

#### ğŸ”² ç½‘æ ¼æ¸²æŸ“
- **ğŸ”² MeshRenderer** - âœ… å·²å®ç°
  - åŸºç¡€ç»“æ„å·²å®šä¹‰
  - DrawMeshæ–¹æ³•å·²å®ç°ï¼Œæ”¯æŒç´¢å¼•å’Œéç´¢å¼•ç»˜åˆ¶
  - æ”¯æŒå­ç½‘æ ¼æ¸²æŸ“
  - æ”¯æŒç½‘æ ¼å’Œæè´¨ç»‘å®š
  - ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - âš ï¸ ç¼ºå°‘2Dç½‘æ ¼çš„ä¸“ç”¨æ¸²æŸ“é€»è¾‘
  - âš ï¸ ç¼ºå°‘æ‰¹æ¸²æŸ“ä¼˜åŒ–

#### ğŸ® è¾“å…¥ç³»ç»Ÿ
- **ğŸ® IInputBackend** - âš ï¸ éƒ¨åˆ†å®ç°
  - åŸºç¡€è¾“å…¥ç®¡ç†å™¨å®ç°
  - æ”¯æŒé”®ç›˜è¾“å…¥æ£€æµ‹
  - æ”¯æŒé¼ æ ‡è¾“å…¥æ£€æµ‹
  - æ”¯æŒé¼ æ ‡ä½ç½®è·å–
  - âš ï¸ ç¼ºå°‘æ¸¸æˆæ‰‹æŸ„æ”¯æŒ
  - âš ï¸ ç¼ºå°‘è¾“å…¥æ˜ å°„ç³»ç»Ÿ
  - âš ï¸ ç¼ºå°‘è¾“å…¥äº‹ä»¶å¤„ç†

## ğŸŒ 3DåŠŸèƒ½å®ç°çŠ¶æ€

### âœ… å·²å®ç°çš„3DåŠŸèƒ½

#### ğŸ—ï¸ åŸºç¡€æ¶æ„
- **ğŸ“¦ èµ„æºç®¡ç†ç³»ç»Ÿ** - âœ… å·²å®ç°(åŒ2D)
- **ğŸ§© ç»„ä»¶ç³»ç»Ÿ** - âœ… å·²å®ç°(åŒ2D)

#### ğŸ–¼ï¸ æ¸²æŸ“ç³»ç»Ÿ
- **ğŸ¯ DirectX 12æ¸²æŸ“å™¨** - âœ… å·²å®ç°(åŒ2D)
- **ğŸ”¥ Vulkanæ¸²æŸ“å™¨** - âš ï¸ éƒ¨åˆ†å®ç°
  - åŸºç¡€æ¸²æŸ“å™¨ç±»å®šä¹‰
  - å·²é›†æˆåˆ°ç¼–è¾‘å™¨åˆå§‹åŒ–æµç¨‹
  - å®ç°äº†å®ä¾‹ã€è¡¨é¢å’Œè®¾å¤‡çš„åˆ›å»º
  - æ”¯æŒå¤šçº¿ç¨‹å’ŒBindlessçº¹ç†ç‰¹æ€§

- **ğŸŒŸ ç€è‰²å™¨ç³»ç»Ÿ** - âœ… å·²å®ç°(åŒ2D)
- **ğŸ¨ æ¸²æŸ“ç®¡çº¿** - âœ… å·²å®ç°
  - æ¨¡å—åŒ–æ¸²æŸ“é€šé“è®¾è®¡ï¼ˆRenderPassï¼‰
  - å‰å‘æ¸²æŸ“ç®¡çº¿å®Œæ•´å®ç°
  - åŒ…å«æ·±åº¦é¢„é€šé“ã€ä¸é€æ˜é€šé“ã€é€æ˜é€šé“
  - å¤©ç©ºç›’æ¸²æŸ“é€šé“å®ç°

#### ğŸ“ å‡ ä½•ä½“
- **ğŸ“¦ åŸºç¡€3Då‡ ä½•ä½“** - âœ… å·²å®ç°
  - ç«‹æ–¹ä½“ç½‘æ ¼ç”Ÿæˆ
  - ä¸‰è§’å½¢å’Œå››è¾¹å½¢ç½‘æ ¼ç”Ÿæˆ
  - å®Œæ•´çš„é¡¶ç‚¹æ•°æ®ç»“æ„(ä½ç½®ã€æ³•çº¿ã€çº¹ç†åæ ‡ã€åˆ‡çº¿ã€é¢œè‰²)

#### ğŸ”² ç½‘æ ¼ç³»ç»Ÿ
- **ğŸ”² Mesh** - âœ… å·²å®ç°
  - å­ç½‘æ ¼æ”¯æŒ
  - åŒ…å›´ç›’è®¡ç®—
  - é¡¶ç‚¹å’Œç´¢å¼•ç¼“å†²åŒºç»“æ„
  - GPUèµ„æºå¥æŸ„å®šä¹‰

### ğŸš§ æœªå®Œå…¨å®ç°çš„3DåŠŸèƒ½

#### ğŸ”„ å˜æ¢ç³»ç»Ÿ
- **ğŸ”„ Transform** - âœ… å·²å®ç°
  - åŸºäºTransformç±»å®ç°ï¼ˆå®é™…æ˜¯3Då˜æ¢ï¼‰
  - æ”¯æŒæ¬§æ‹‰è§’å’Œå››å…ƒæ•°æ—‹è½¬
  - æ”¯æŒ3Dä½ç½®ã€æ—‹è½¬å’Œç¼©æ”¾å±æ€§
  - æ”¯æŒçŸ©é˜µå˜æ¢è®¡ç®—ï¼Œä½¿ç”¨ç¼“å­˜ä¼˜åŒ–
  - åŒ…å«è°ƒè¯•æ—¥å¿—åŠŸèƒ½
  - âš ï¸ ç¼ºå°‘ä¸“é—¨çš„Transform3Dç±»å‘½åï¼ˆç›®å‰æ‰€æœ‰å˜æ¢éƒ½é€šè¿‡Transformç±»å¤„ç†ï¼‰

#### ğŸ“· ç›¸æœºç³»ç»Ÿ
- **ğŸ“· 3Dç›¸æœº** - âœ… å·²å®ç°
  - é€è§†æŠ•å½±ç›¸æœºå®Œæ•´å®ç°
  - æ”¯æŒLookAtåŠŸèƒ½
  - æ”¯æŒæœ¬åœ°å’Œä¸–ç•Œåæ ‡ç³»ç§»åŠ¨
  - å®ç°äº†å‰ã€ä¸Šã€å³å‘é‡çš„è®¡ç®—
  - æ”¯æŒæ¸…é™¤é¢œè‰²è®¾ç½®
  - ä½¿ç”¨è„æ ‡è®°ä¼˜åŒ–çŸ©é˜µæ›´æ–°
  - âš ï¸ ç¼ºå°‘æ­£äº¤æŠ•å½±ç›¸æœºå®ç°

#### ğŸ¨ æ¸²æŸ“ç®¡çº¿
- **ğŸ¨ 3Dä¸“ç”¨æ¸²æŸ“ç®¡çº¿** - âœ… å·²å®ç°
  - æ·±åº¦ç¼“å†²å’Œæ¨¡æ¿ç¼“å†²
  - èƒŒé¢å‰”é™¤
  - 3Då…‰ç…§ç³»ç»ŸåŸºç¡€
  - âš ï¸ ç¼ºå°‘é˜´å½±æ¸²æŸ“
  - âš ï¸ æ¸²æŸ“å›¾ï¼ˆRenderGraphï¼‰ç›®å‰ä¸ºç©ºå®ç°
  - âš ï¸ å»¶è¿Ÿæ¸²æŸ“ç®¡çº¿å­˜åœ¨ä½†å¯èƒ½ä¸å®Œæ•´

#### ğŸ­ æè´¨ç³»ç»Ÿ
- **ğŸ­ 3Dæè´¨** - âœ… å·²å®ç°(åŒMaterialç³»ç»Ÿ)
  - PBRæè´¨å±æ€§å®ç°
  - çº¹ç†ç»‘å®šå’Œé‡‡æ ·å™¨è®¾ç½®
  - æè´¨å±æ€§ä¸ç€è‰²å™¨çš„ç»‘å®š
  - âš ï¸ ç¼ºå°‘æè´¨é¢„è§ˆåŠŸèƒ½
  - âš ï¸ ç¼ºå°‘æè´¨åº“ç®¡ç†
  - âš ï¸ ç¼ºå°‘ç€è‰²å™¨å˜ä½“ç³»ç»Ÿ

#### ğŸ”² ç½‘æ ¼æ¸²æŸ“
- **ğŸ”² 3Dç½‘æ ¼æ¸²æŸ“** - âœ… å·²å®ç°
  - 3Dç½‘æ ¼çš„ä¸“ç”¨æ¸²æŸ“é€»è¾‘
  - MeshRendererç»„ä»¶å®ç°
  - æ”¯æŒç½‘æ ¼å’Œæè´¨ç»‘å®š
  - âš ï¸ ç¼ºå°‘å®ä¾‹åŒ–æ¸²æŸ“
  - âš ï¸ ç¼ºå°‘LODç³»ç»Ÿ
  - âš ï¸ ç¼ºå°‘æ‰¹æ¸²æŸ“ä¼˜åŒ–
  - âš ï¸ ç¼ºå°‘é®æŒ¡å‰”é™¤

#### ğŸ¬ åŠ¨ç”»ç³»ç»Ÿ
- **ğŸ¬ éª¨éª¼åŠ¨ç”»** - âŒ æœªå®ç°
  - ç¼ºå°‘éª¨éª¼å’Œè’™çš®ç³»ç»Ÿ
  - ç¼ºå°‘åŠ¨ç”»æ’­æ”¾å’Œæ··åˆ
  - ç¼ºå°‘åŠ¨ç”»çŠ¶æ€æœº
  - ç¼ºå°‘åŠ¨ç”»éª¨éª¼æ”¯æŒ

#### âš¡ ç‰©ç†ç³»ç»Ÿ
- **âš¡ ç¢°æ’æ£€æµ‹** - âŒ æœªå®ç°
  - ç¼ºå°‘ç¢°æ’ä½“å’Œç¢°æ’æ£€æµ‹
  - ç¼ºå°‘ç‰©ç†æ¨¡æ‹Ÿ
  - ç¼ºå°‘ç‰©ç†æè´¨

## ğŸŒ è·¨å¹³å°åŠŸèƒ½

### âœ… å·²å®ç°
- **ğŸªŸ Windowså¹³å°æ”¯æŒ** - âš ï¸ éƒ¨åˆ†å®ç°
  - Windowsåº”ç”¨ç¨‹åºæ¡†æ¶
  - Win32çª—å£åˆ›å»ºå’Œæ¶ˆæ¯å¤„ç†
  - DirectX 12æ¸²æŸ“åç«¯

### ğŸš§ æœªå®Œå…¨å®ç°
- **ğŸ¤– Androidå¹³å°æ”¯æŒ** - âš ï¸ éƒ¨åˆ†å®ç°
  - Androidåº”ç”¨ç¨‹åºç±»å®šä¹‰
  - ç¼ºå°‘å®Œæ•´çš„Androidå®ç°
  - ç¼ºå°‘Androidç‰¹å®šçš„æ¸²æŸ“åç«¯

- **ğŸ® SDL3é›†æˆ** - âš ï¸ éƒ¨åˆ†å®ç°
  - SDL3åº”ç”¨ç¨‹åºç±»å®šä¹‰
  - ç¼ºå°‘å®Œæ•´çš„SDL3å®ç°
  - ç¼ºå°‘SDL3æ¸²æŸ“åç«¯

## ğŸ”Š éŸ³é¢‘ç³»ç»Ÿ

### âœ… å·²å®ç°
- **ğŸ”Š éŸ³é¢‘ç³»ç»Ÿæ¶æ„** - âœ… å·²å®ç°
  - éŸ³é¢‘ç³»ç»Ÿæ¥å£å®šä¹‰
  - å¤šåç«¯æ”¯æŒæ¶æ„
  - æ”¯æŒSDL3å’ŒXAudio2åç«¯

### ğŸš§ æœªå®Œå…¨å®ç°
- **ğŸµ SDL3éŸ³é¢‘åç«¯** - âš ï¸ éƒ¨åˆ†å®ç°
  - åŸºç¡€SDL3éŸ³é¢‘åˆå§‹åŒ–
  - éŸ³é¢‘æ’­æ”¾åŠŸèƒ½éƒ¨åˆ†å®ç°
  - éŸ³é¢‘æ§åˆ¶åŠŸèƒ½æœªå®Œå…¨å®ç°

- **ğŸ¶ XAudio2éŸ³é¢‘åç«¯** - âš ï¸ éƒ¨åˆ†å®ç°
  - ç±»å®šä¹‰å·²å­˜åœ¨
  - éƒ¨åˆ†å®ç°å·²å®Œæˆ
  - éŸ³é¢‘æ’­æ”¾åŠŸèƒ½æœªå®Œå…¨å®ç°

## âš¡ ç‰©ç†ç³»ç»Ÿ

### ğŸš§ æœªå®Œå…¨å®ç°
- **âš›ï¸ JoltPhysicsé›†æˆ** - âŒ æœªå®ç°
  - ç¼ºå°‘JoltPhysicsåº“é›†æˆ
  - ç¼ºå°‘ç‰©ç†ä¸–ç•Œçš„åˆ›å»ºå’Œç®¡ç†
  - ç¼ºå°‘ç¢°æ’ä½“å’Œåˆšä½“ç»„ä»¶
  - ç¼ºå°‘ç‰©ç†æè´¨ç³»ç»Ÿ
  - ç¼ºå°‘çº¦æŸå’Œå…³èŠ‚ç³»ç»Ÿ

## ğŸš€ é«˜çº§æ¸²æŸ“ç³»ç»Ÿ

### ğŸš§ æœªå®Œå…¨å®ç°
- **ğŸŒŸ RTXGIå…¨å±€å…‰ç…§** - âŒ æœªå®ç°
  - ç¼ºå°‘NVIDIA RTXGI SDKé›†æˆ
  - ç¼ºå°‘DDGI (Dynamic Diffuse Global Illumination) ç³»ç»Ÿ
  - ç¼ºå°‘å®æ—¶å…¨å±€å…‰ç…§è®¡ç®—
  - ç¼ºå°‘å…‰ç…§æ¢å¤´å’Œåå°„æ•è·
  - ç¼ºå°‘åŸºäºç¡¬ä»¶çš„å…‰çº¿è¿½è¸ªæ”¯æŒ

## ğŸ› ï¸ å·¥å…·å’Œç¼–è¾‘å™¨

### âœ… å·²å®ç°
- **ğŸ› ï¸ ç¼–è¾‘å™¨æ¡†æ¶** - âš ï¸ éƒ¨åˆ†å®ç°
  - ç¼–è¾‘å™¨åº”ç”¨ç¨‹åºç±»å®šä¹‰
  - SDL3çª—å£åˆ›å»ºå’Œåˆå§‹åŒ–
  - Vulkanæ¸²æŸ“å™¨é›†æˆ
  - ImGuiç•Œé¢æ¡†æ¶é›†æˆ
  - èµ„æºç®¡ç†å™¨é›†æˆ

### ğŸš§ æœªå®Œå…¨å®ç°
- **ğŸ› ï¸ ç¼–è¾‘å™¨åŠŸèƒ½** - âŒ æœªå®ç°
  - ç¼ºå°‘åœºæ™¯ç¼–è¾‘å™¨
  - ç¼ºå°‘èµ„æºç®¡ç†å™¨
  - ç¼ºå°‘å±æ€§ç¼–è¾‘å™¨

- **ğŸ› å´©æºƒæŠ¥å‘Šç³»ç»Ÿ** - âŒ æœªå®ç°
  - ç¼ºå°‘Crashpadé›†æˆ
  - ç¼ºå°‘å´©æºƒæ•è·å’ŒæŠ¥å‘Šæœºåˆ¶
  - ç¼ºå°‘å´©æºƒæ•°æ®ä¸Šä¼ åŠŸèƒ½
  - ç¼ºå°‘ç¬¦å·åŒ–å·¥å…·é›†æˆ

## ğŸ¯ ä¼˜å…ˆçº§å»ºè®®

### ğŸ”´ é«˜ä¼˜å…ˆçº§
1. **ğŸ¨ å®Œå–„2DåŸºç¡€åŠŸèƒ½**
   - å®ç°Transform2Då’ŒCamera2D
   - å®Œå–„2Dæ¸²æŸ“ç®¡çº¿
   - å®ç°åŸºç¡€2Dæè´¨ç³»ç»Ÿ

2. **ğŸŒ å®Œå–„3DåŸºç¡€åŠŸèƒ½**
   - å®ç°Transform3Då’ŒCamera3D
   - å®Œå–„3Dæ¸²æŸ“ç®¡çº¿
   - å®ç°åŸºç¡€3Dæè´¨ç³»ç»Ÿ

3. **ğŸ® å®Œå–„è¾“å…¥ç³»ç»Ÿ**
   - å®ç°è¾“å…¥åç«¯
   - æ·»åŠ è¾“å…¥äº‹ä»¶å¤„ç†

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§
1. **ğŸ”Š å®Œå–„éŸ³é¢‘ç³»ç»Ÿ**
2. **ğŸŒ å®Œå–„è·¨å¹³å°æ”¯æŒ**
3. **ğŸ› ï¸ å®ç°åŸºç¡€ç¼–è¾‘å™¨åŠŸèƒ½**
4. **âš¡ é›†æˆJoltPhysicsç‰©ç†å¼•æ“**
5. **ğŸ› é›†æˆCrashpadå´©æºƒæŠ¥å‘Šç³»ç»Ÿ**

### ğŸŸ¢ ä½ä¼˜å…ˆçº§
1. **âœ¨ é«˜çº§æ¸²æŸ“ç‰¹æ€§**
   - **ğŸš€ RTXGI (Real-Time Global Illumination) é›†æˆ**
     - é›†æˆNVIDIA RTXGI SDK
     - å®ç°åŸºäºVoxel Cone Tracingçš„å®æ—¶å…¨å±€å…‰ç…§
     - æ”¯æŒåŠ¨æ€åœºæ™¯ä¸‹çš„é—´æ¥å…‰ç…§åå°„
     - æ·»åŠ DDGI (Dynamic Diffuse Global Illumination) æ”¯æŒ
     - ä¼˜åŒ–ç§»åŠ¨ç«¯å’Œä½é…è®¾å¤‡çš„æ€§èƒ½é™çº§æ–¹æ¡ˆ
2. **ğŸ¬ åŠ¨ç”»ç³»ç»Ÿ**

## ğŸ“Š åŠŸèƒ½å®Œæˆåº¦ç»Ÿè®¡

| åŠŸèƒ½æ¨¡å— | å®Œæˆåº¦ | çŠ¶æ€ |
|---------|--------|------|
| åŸºç¡€æ¶æ„ (ECS/Scene/Resource) | 70% | ğŸŸ¡ è¿›è¡Œä¸­ |
| 2Dæ¸²æŸ“ (Transform2D/Camera2D) | 50% | ğŸŸ¡ è¿›è¡Œä¸­ |
| 3Dæ¸²æŸ“ (Transform3D/Camera3D) | 45% | ğŸŸ¡ è¿›è¡Œä¸­ |
| DirectX 12 åç«¯ | 65% | ğŸŸ¡ è¿›è¡Œä¸­ |
| **Vulkan åç«¯ (PrismaAndroid)** | **80%** | ğŸŸ¢ **å·²å®Œæˆ** |
| éŸ³é¢‘ç³»ç»Ÿ | 15% | ğŸ”´ æœªå¼€å§‹ |
| è·¨å¹³å°æ”¯æŒ (Android/SDL3) | 25% | ğŸ”´ æœªå¼€å§‹ |
| ç¼–è¾‘å™¨å·¥å…· | 10% | ğŸ”´ æœªå¼€å§‹ |
| ç‰©ç†ç³»ç»Ÿ | 5% | ğŸ”´ æœªå¼€å§‹ |
| RenderGraph æ¶æ„ | 10% | ğŸ”´ è§„åˆ’ä¸­ |
| **HLSL â†’ SPIR-V ç¼–è¯‘æµç¨‹** | **0%** | ğŸ”´ **è§„åˆ’ä¸­** |
| **Google Snappy å‹ç¼©åº“** | **0%** | ğŸ”´ **è§„åˆ’ä¸­** |
| **Google Swappy é›†æˆ** | **0%** | ğŸ”´ **è§„åˆ’ä¸­** |
| **HAP è§†é¢‘æ’­æ”¾ç³»ç»Ÿ** | **0%** | ğŸ”´ **è§„åˆ’ä¸­** |
| é«˜çº§æ¸²æŸ“ (RTXGI) | 0% | ğŸ”´ æœªå¼€å§‹ |
| åŠ¨ç”»ç³»ç»Ÿ | 0% | ğŸ”´ æœªå¼€å§‹ |

**æ€»ä½“å®Œæˆåº¦: ~30-35%**

> **é‡è¦æ›´æ–°**: PrismaAndroid é¡¹ç›®åŒ…å«å®Œæ•´çš„ Vulkan æ¸²æŸ“å™¨å®ç°ï¼ˆ~1300 è¡Œï¼‰ï¼ŒåŠŸèƒ½åŒ…æ‹¬ SwapChainã€å›¾å½¢ç®¡çº¿ã€æè¿°ç¬¦ã€Uniform Bufferã€å±å¹•æ—‹è½¬æ”¯æŒç­‰ã€‚

> **é«˜çº§åŠŸèƒ½è§„åˆ’**: HLSLâ†’SPIR-V ç»Ÿä¸€ç€è‰²å™¨æµç¨‹ã€Google Swappy å¸§ç‡ç®¡ç†ã€HAP è§†é¢‘æ’­æ”¾ç³»ç»Ÿå·²åˆ—å…¥è§„åˆ’ï¼Œè¯¦è§ [é«˜çº§æ¸²æŸ“åŠŸèƒ½è§„åˆ’](#-é«˜çº§æ¸²æŸ“åŠŸèƒ½è§„åˆ’) ç« èŠ‚ã€‚

## ğŸ“ æ€»ç»“

PrismaEngineï¼ˆåŸYAGEï¼‰ä»å¤„äºæ—©æœŸå¼€å‘é˜¶æ®µï¼Œä½†å·²æœ‰æ‰å®çš„åŸºç¡€æ¡†æ¶å’Œä¸€ä¸ª**åŠŸèƒ½å®Œæ•´çš„ Android Vulkan è¿è¡Œæ—¶**ï¼š

### âœ… å·²å®Œæˆçš„åŸºç¡€æ¡†æ¶ (PrismaEngine)
- **ECSç»„ä»¶ç³»ç»Ÿ**ï¼šGameObject/Componentæ¶æ„å®Œæ•´ï¼Œæ”¯æŒç”Ÿå‘½å‘¨æœŸç®¡ç†
- **åœºæ™¯ç®¡ç†**ï¼šSceneåºåˆ—åŒ–ã€SceneManagerã€SceneNodeå±‚æ¬¡ç»“æ„
- **ç›¸æœºç³»ç»Ÿ**ï¼šCamera2D/Camera3Då®Œæ•´å®ç°ï¼ŒåŒ…å«æ§åˆ¶å™¨
- **å˜æ¢ç³»ç»Ÿ**ï¼šTransform/Transform2Då®Œæ•´å®ç°ï¼Œæ”¯æŒçŸ©é˜µç¼“å­˜ä¼˜åŒ–
- **DirectX 12 åç«¯**ï¼šå‘½ä»¤åˆ—è¡¨ã€é˜Ÿåˆ—ã€äº¤æ¢é“¾ã€RT/DSç¼“å†²
- **èµ„æºç®¡ç†**ï¼šResourceManagerNewï¼Œæ”¯æŒå¼‚æ­¥åŠ è½½å’Œçƒ­é‡è½½
- **ScriptableRenderPipeline**ï¼šå‰å‘æ¸²æŸ“ç®¡çº¿æ¡†æ¶ï¼ˆæ·±åº¦é¢„é€šé“ã€ä¸é€æ˜/é€æ˜é€šé“ã€å¤©ç©ºç›’ï¼‰

### âœ… **å·²å®Œæˆ: PrismaAndroid Vulkan è¿è¡Œæ—¶**
- **VulkanContext** (~250 è¡Œ)ï¼š
  - Instance/Device/Surface åˆ›å»º
  - SwapChain ç®¡ç†
  - ç¼“å†²åŒºåˆ›å»ºå’Œç®¡ç† (createBuffer)
  - å›¾åƒå¸ƒå±€è½¬æ¢ (transitionImageLayout)
  - Mipmap ç”Ÿæˆ (generateMipmaps)
  - ä¸€æ¬¡æ€§å‘½ä»¤æ‰§è¡Œè¾…åŠ©å‡½æ•°

- **RendererVulkan** (~1300 è¡Œ)ï¼š
  - å®Œæ•´çš„ Vulkan åˆå§‹åŒ–æµç¨‹
  - å›¾å½¢ç®¡çº¿åˆ›å»º (Pipeline/RenderPass/Framebuffers)
  - æè¿°ç¬¦æ± å’Œæè¿°ç¬¦é›†ç®¡ç†
  - Uniform Buffer æ¯å¸§æ›´æ–°
  - é¡¶ç‚¹/ç´¢å¼•ç¼“å†²åŒºç®¡ç†
  - çº¹ç†åŠ è½½å’Œé‡‡æ · (TextureAsset)
  - **å±å¹•æ—‹è½¬æ”¯æŒ** (SwapChain é‡å»ºæœºåˆ¶)
  - é£è¡Œå¸§ (Flight Frame) åŒæ­¥æœºåˆ¶
  - å®Œæ•´çš„æ¸²æŸ“å¾ªç¯

- **é…å¥—ç»„ä»¶**ï¼š
  - Scene/GameObject/Component æ¶æ„
  - MeshRenderer ç»„ä»¶
  - ShaderVulkan (SPIR-V ç€è‰²å™¨åŠ è½½)
  - TextureAsset (çº¹ç†èµ„äº§ç®¡ç†)
  - Vertex ç»“æ„ (position/color/uv)

### âš ï¸ éƒ¨åˆ†å®ç°çš„åŠŸèƒ½
- **è¾“å…¥ç³»ç»Ÿ**ï¼šåŸºç¡€InputManagerï¼Œç¼ºå°‘æ¸¸æˆæ‰‹æŸ„å’Œè¾“å…¥æ˜ å°„
- **éŸ³é¢‘ç³»ç»Ÿ**ï¼šæ¶æ„å­˜åœ¨ï¼ˆXAudio2/SDL3ï¼‰ï¼Œä½†å®ç°ä¸ºç©º
- **æè´¨ç³»ç»Ÿ**ï¼šPBRæè´¨å±æ€§ï¼Œä½†ç¼ºå°‘è¿è¡Œæ—¶ç¼–è¾‘å™¨å’Œå®ä¾‹ç³»ç»Ÿ

### âŒ æœªå®ç°çš„å…³é”®åŠŸèƒ½
- **ç‰©ç†ç³»ç»Ÿ**ï¼šPhysicsSystemä»…ä¸ºç©ºå£³
- **åŠ¨ç”»ç³»ç»Ÿ**ï¼šå®Œå…¨æœªå®ç°
- **é˜´å½±æ¸²æŸ“**ï¼šæœªå®ç°
- **åå¤„ç†æ•ˆæœ**ï¼šæœªå®ç°
- **ç²’å­ç³»ç»Ÿ**ï¼šæœªå®ç°
- **RenderGraph**ï¼šä»…æœ‰å¤´æ–‡ä»¶è®¾è®¡ï¼ˆRenderGraphCore.hï¼‰ï¼Œæ— å®ç°
- **è„šæœ¬ç³»ç»Ÿ**ï¼šMonoè¿è¡Œæ—¶å¤´æ–‡ä»¶ä¸ºç©º
- **ç¼–è¾‘å™¨**ï¼šEditoræ¡†æ¶å­˜åœ¨ï¼Œä½†æ— å®é™…UIåŠŸèƒ½

### ğŸ”„ æ¶æ„è¿ç§»çŠ¶æ€
- **RenderGraph è¿ç§»**ï¼šå¤„äºè§„åˆ’é˜¶æ®µ
  - Phase 1: åŸºç¡€æ¶æ„å®ç° - æœªå¼€å§‹
  - Phase 2: é›†æˆç°æœ‰ç³»ç»Ÿ - æœªå¼€å§‹
  - Phase 3: ä¼˜åŒ–å’Œæ–°åŠŸèƒ½ - æœªå¼€å§‹

### é¢ä¸´çš„å®é™…æŒ‘æˆ˜
1. **æ¶æ„è®¾è®¡ä¸å®ç°å·®è·**ï¼šRenderGraphè®¾è®¡å®Œå–„ä½†å®ç°ä¸ºç©º
2. **æ¸²æŸ“ç®¡çº¿åŠŸèƒ½ä¸å®Œæ•´**ï¼šç¼ºå°‘é˜´å½±ã€åå¤„ç†ç­‰å…³é”®ç‰¹æ€§
3. **è·¨å¹³å°éªŒè¯ä¸è¶³**ï¼šAndroidå¹³å°ç¼ºå°‘å®é™…æµ‹è¯•
4. **è°ƒè¯•å·¥å…·ç¼ºå¤±**ï¼šæ— å¯è§†åŒ–è°ƒè¯•å’Œæ€§èƒ½åˆ†æå·¥å…·

### å»ºè®®
1. **ä¼˜å…ˆ Vulkan è¿ç§»**ï¼šå°† PrismaAndroid çš„æˆç†Ÿå®ç°è¿ç§»åˆ°å¼•æ“ï¼Œå¿«é€Ÿè·å¾—å¯ç”¨çš„ Vulkan åç«¯
2. **èšç„¦æ ¸å¿ƒæ¸²æŸ“**ï¼šä¼˜å…ˆå®Œå–„å‰å‘æ¸²æŸ“ç®¡çº¿ï¼Œå®ç°é˜´å½±å’Œåå¤„ç†
3. **æ¸è¿›å¼RenderGraph**ï¼šå¯è€ƒè™‘æš‚ç¼“è¿ç§»ï¼Œå…ˆå®Œå–„ç°æœ‰ç®¡çº¿
4. **å»ºç«‹æµ‹è¯•ä½“ç³»**ï¼šå°½æ—©å»ºç«‹æ¸²æŸ“æµ‹è¯•å’ŒéªŒè¯æµç¨‹
5. **å®ç”¨ä¸»ä¹‰**ï¼šè€ƒè™‘ä½¿ç”¨ç°æœ‰ä¸­é—´ä»¶ï¼ˆå¦‚JoltPhysicsã€Dear ImGuiï¼‰å‡å°‘å¼€å‘è´Ÿæ‹…

### ğŸš€ Vulkan è¿ç§»ç­–ç•¥

#### è¿ç§»åŸåˆ™
- **ä¿æŒå…¼å®¹æ€§**ï¼šPrismaAndroid ç»§ç»­ä½œä¸ºç‹¬ç«‹é¡¹ç›®è¿è¡Œ
- **æ¸è¿›å¼è¿ç§»**ï¼šé€æ¨¡å—è¿ç§»ï¼Œä¿æŒæ¯ä¸ªé˜¶æ®µå¯ç¼–è¯‘è¿è¡Œ
- **æŠ½è±¡ä¼˜å…ˆ**ï¼šå…ˆå®Œå–„æ¸²æŸ“æŠ½è±¡å±‚ï¼Œå†é€‚é…å…·ä½“åç«¯

#### æ¶æ„å¯¹é½

| PrismaAndroid | PrismaEngine | è¿ç§»ç­–ç•¥ |
|---------------|--------------|----------|
| `VulkanContext` | `RenderBackend` + `VulkanDevice` | æŠ½å–æ¥å£ï¼Œä¿ç•™å®ç° |
| `RendererVulkan` | `VulkanRenderer` | é‡æ„ä¸ºé€‚é…å™¨æ¨¡å¼ |
| `ShaderVulkan` | `Shader` + `VulkanShader` | ç»Ÿä¸€ç€è‰²å™¨æ¥å£ |
| `TextureAsset` | `Texture` + `VulkanTexture` | ç»Ÿä¸€èµ„æºæ¥å£ |
| `Scene/GameObject` | å·²æœ‰ ECS | ä¿æŒå¼•æ“æ¶æ„ï¼Œå‚è€ƒ Android å®ç° |

#### è¿ç§»åçš„ç›®å½•ç»“æ„
```
src/engine/graphic/
â”œâ”€â”€ RenderBackend.h           # æ¸²æŸ“åç«¯æŠ½è±¡æ¥å£
â”œâ”€â”€ VulkanBackend.h/cpp       # Vulkan åç«¯å®ç°ï¼ˆè¿ç§»è‡ª PrismaAndroidï¼‰
â”œâ”€â”€ VulkanContext.h/cpp       # Vulkan ä¸Šä¸‹æ–‡ï¼ˆè¿ç§»è‡ª PrismaAndroidï¼‰
â”œâ”€â”€ VulkanCommandList.h/cpp   # Vulkan å‘½ä»¤åˆ—è¡¨å°è£…
â”œâ”€â”€ VulkanShader.h/cpp        # Vulkan ç€è‰²å™¨ï¼ˆè¿ç§»ï¼‰
â”œâ”€â”€ VulkanTexture.h/cpp       # Vulkan çº¹ç†ï¼ˆè¿ç§»ï¼‰
â””â”€â”€ ...
```

### ğŸ”® é«˜çº§æ¸²æŸ“åŠŸèƒ½è§„åˆ’æ€»ç»“

#### ä¼˜å…ˆçº§æ’åº

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | ä¾èµ– |
|------|--------|------|
| **HLSL â†’ SPIR-V** | ğŸ”´ é«˜ | Vulkan è¿ç§»å®Œæˆ |
| **Google Snappy** | ğŸ”´ é«˜ | - |
| **HAP è§†é¢‘æ’­æ”¾** | ğŸŸ¢ ä½ | Snappy é›†æˆå®Œæˆ |
| **Google Swappy** | ğŸŸ¡ ä¸­ | Vulkan è¿ç§»å®Œæˆ |

#### æŠ€æœ¯æ ˆæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      é«˜çº§æ¸²æŸ“åŠŸèƒ½æ ˆ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HLSL â”€â”€DXCâ”€â”€â–º SPIR-V â”€â”€â–º Vulkan/DX12 ç»Ÿä¸€ç€è‰²å™¨              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Snappy â”€â”€â–º èµ„æºå‹ç¼© â”€â”€â–º ç½‘ç»œä¼ è¾“ â”€â”€â–º HAP è§†é¢‘                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Swappy â”€â”€â–º å¸§ç‡åŒæ­¥ â”€â”€â–º åŠŸè€—ä¼˜åŒ– â”€â”€â–º æ€§èƒ½ç»Ÿè®¡                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HAP â”€â”€Snappyâ”€â”€â–º GPU è§£ç  â”€â”€â–º VideoTexture â”€â”€â–º æè´¨æ’­æ”¾        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

æ¸¸æˆå¼•æ“å¼€å‘æ˜¯ä¸€é¡¹å¤æ‚çš„ç³»ç»Ÿå·¥ç¨‹ï¼Œéœ€è¦æŒç»­çš„æŠ•å…¥å’Œè€å¿ƒã€‚å½“å‰é¡¹ç›®æ‹¥æœ‰è‰¯å¥½çš„æ¶æ„åŸºç¡€ï¼Œä½†éœ€è¦å¤§é‡å®ç°å·¥ä½œæ‰èƒ½è¾¾åˆ°å¯ç”¨çŠ¶æ€ã€‚**PrismaAndroid çš„ Vulkan å®ç°ä¸ºé¡¹ç›®æä¾›äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„èµ·ç‚¹ï¼Œå°†å¤§å¤§åŠ é€Ÿè·¨å¹³å°æ¸²æŸ“èƒ½åŠ›çš„å®ç°ã€‚é€šè¿‡ HLSLâ†’SPIR-V ç»Ÿä¸€ç€è‰²å™¨æµç¨‹ã€Google Snappy é«˜é€Ÿå‹ç¼©ã€Google Swappy å¸§ç‡ç®¡ç†ä¼˜åŒ–ã€ä»¥åŠ HAP è§†é¢‘æ’­æ”¾èƒ½åŠ›ï¼Œå¼•æ“å°†å…·å¤‡ç°ä»£åŒ–çš„é«˜çº§æ¸²æŸ“ç‰¹æ€§ã€‚**

---

*æœ€åæ›´æ–°æ—¶é—´: 2025å¹´12æœˆ25æ—¥*